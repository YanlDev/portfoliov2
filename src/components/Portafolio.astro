---
import astroWebImg from "../img-webs/astro-web.png";
---

<main
  class="container flex flex-col lg:flex-row gap-8 mx-auto max-w-7xl min-h-screen font-inter px-4 py-8 lg:py-0"
>
  <!-- Sidebar fijo -->
  <section
    class="w-full lg:w-2/5 flex flex-col justify-center lg:h-screen lg:sticky lg:top-0 space-y-6 lg:space-y-8 text-center lg:text-left"
  >
    <div>
      <h1 class="text-2xl sm:text-4xl lg:text-6xl font-bold tracking-tight leading-tight">
        Milder Carreón
      </h1>
      <h2 class="text-base sm:text-lg lg:text-xl text-gray-600 mt-2 tracking-wide">
        Desarrollador FullStack | Ingeniero Industrial
      </h2>
    </div>
    <nav class="mt-6 lg:mt-8 hidden lg:block">
      <ul class="space-y-3 lg:space-y-2" id="nav-menu">
        <li>
          <a
            href="#about-me"
            class="nav-link hover:text-gray-600 transition-all duration-300 ease-in-out text-base lg:text-lg tracking-wide"
            data-section="about-me">Sobre mí</a
          >
        </li>
        <li>
          <a
            href="#experience"
            class="nav-link hover:text-gray-600 transition-all duration-300 ease-in-out text-base lg:text-lg tracking-wide"
            data-section="experience">Experiencia</a
          >
        </li>
        <li>
          <a
            href="#projects"
            class="nav-link hover:text-gray-600 transition-all duration-300 ease-in-out text-base lg:text-lg tracking-wide"
            data-section="projects">Proyectos</a
          >
        </li>
      </ul>
    </nav>
    <div class="mt-4 lg:mt-8 flex gap-4 justify-center lg:justify-start">
      <a
        href="https://github.com/YanlDev"
        target="_blank"
        class="text-lg lg:text-2xl hover:text-gray-600 transition-all duration-300 ease-in-out transform hover:scale-110"
      >
        <i class="fa-brands fa-github"></i>
      </a>
      <a
        href="https://www.linkedin.com/in/yaniv-carreon/"
        target="_blank"
        class="text-lg lg:text-2xl hover:text-gray-600 transition-all duration-300 ease-in-out transform hover:scale-110"
      >
        <i class="fa-brands fa-linkedin"></i>
      </a>
      <div class="relative">
        <button
          id="email-button"
          class="text-lg lg:text-2xl hover:text-gray-600 transition-all duration-300 ease-in-out transform hover:scale-110"
        >
          <i class="fa-solid fa-envelope"></i>
        </button>
        <!-- Modal pequeño -->
        <div id="email-modal" class="absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 bg-white border border-gray-200 rounded-lg shadow-lg p-4 min-w-max hidden z-50">
          <div class="flex items-center justify-between bg-gray-50 p-2 rounded-md">
            <span class="text-gray-700 font-mono text-sm">mycarreon123@gmail.com</span>
            <button 
              id="copy-email" 
              class="text-gray-600 hover:text-gray-900 transition-colors ml-3"
              title="Copiar email"
            >
              <i class="fa-solid fa-copy"></i>
            </button>
          </div>
          <div id="copy-feedback" class="text-xs text-green-600 mt-1 text-center hidden">
            ¡Copiado!
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Contenido principal con scroll snap -->
  <section
    class="w-full lg:w-3/5 lg:h-screen lg:overflow-y-auto lg:snap-y lg:snap-mandatory scroll-smooth relative"
    id="main-content"
  >
    <!-- Sección Sobre mí -->
    <div
      id="about-me"
      class="lg:min-h-screen lg:h-screen flex flex-col lg:justify-center lg:snap-start px-4 lg:px-6 py-8 lg:py-0"
    >
      <!-- Título de sección (solo móvil) -->
      <div class="sticky top-0 bg-white z-10 py-4 mb-4 lg:hidden border-b border-gray-200">
        <h2 class="text-xl font-bold tracking-wide text-gray-900">Sobre mí</h2>
      </div>
      <div class="space-y-6 w-full lg:p-6">
        <p class="tracking-normal text-base md:text-md leading-relaxed">
          Soy una persona apasionada por la tecnología y el aprendizaje constante. Me gusta crear software enfocado en facilitar flujos de trabajo y desarrollar soluciones que resuelvan problemas reales. Mi background como ingeniero industrial me permite pensar en procesos, eficiencia y optimización, habilidades que van de la mano con el desarrollo de software.
        </p>
        <p class="tracking-normal text-base md:text-md leading-relaxed">
          Mi curiosidad por entender cómo funciona la tecnología me llevó al desarrollo de software. Comencé con Java y evolucioné hacia un stack diverso que incluye Python, JavaScript (React, Astro) y PHP (Laravel), aprendiendo tanto de Frontend como Backend para crear soluciones reales en empresas y proyectos freelance.
        </p>
        <p class="tracking-normal text-base md:text-md leading-relaxed">
          Actualmente busco mi primera oportunidad formal en el mundo tech, donde pueda colaborar en la creación de software que genere impacto real.
        </p>

      </div>
    </div>

    <!-- Sección Experiencia -->
    <section
      id="experience"
      class="lg:min-h-screen lg:h-screen flex flex-col lg:justify-center lg:snap-start px-4 lg:px-6 py-8 lg:py-0"
    >
      <!-- Título de sección (solo móvil) -->
      <div class="sticky top-0 bg-white z-10 py-4 mb-4 lg:hidden border-b border-gray-200">
        <h2 class="text-xl font-bold tracking-wide text-gray-900">Experiencia</h2>
      </div>
      <div class="space-y-12 w-full">
        <!-- Delta Consultores -->
        <div
          class="space-y-4 mb-8 lg:border lg:border-transparent lg:hover:border-gray-400 lg:transition-all lg:duration-300 lg:hover:shadow-lg lg:rounded-lg lg:p-6"
        >
          <div>
            <h4 class="text-lg lg:text-xl font-medium tracking-wide">
              Desarrollador FullStack | Delta Consultores
            </h4>
            <p class="text-gray-600 text-sm">abr. 2025 — jul. 2025</p>
          </div>
          <p class="text-gray-800 leading-relaxed tracking-normal text-sm">
            Desarrollo y mantenimiento de plataforma web para servicios de
            asesoría académica y tesis. Implementación de sistema de gestión de
            proyectos académicos, integración con Turnitin para verificación de
            originalidad, y desarrollo de dashboard administrativo para
            seguimiento de clientes.
          </p>
          <div class="flex flex-wrap gap-3 mt-4">
            <span class="bg-black text-white px-3 py-1 rounded-md text-xs"
              >Astro</span
            >
            <span class="bg-black text-white px-3 py-1 rounded-md text-xs"
              >JavaScript</span
            >
            <span class="bg-black text-white px-3 py-1 rounded-md text-xs"
              >Tailwind CSS</span
            >
            <span class="bg-black text-white px-3 py-1 rounded-md text-xs"
              >Python</span
            >
          </div>
        </div>

        <!-- Proyectos Independientes -->
        <div
          class="space-y-4 mb-8 lg:border lg:border-transparent lg:hover:border-gray-400 lg:transition-all lg:duration-300 lg:hover:shadow-lg lg:rounded-lg lg:p-6"
        >
          <div>
            <h4 class="text-lg lg:text-xl font-medium tracking-wide">
              Desarrollador de Software | Freelance
            </h4>
            <p class="text-gray-600 text-sm">ene. 2023 — presente</p>
          </div>
          <p class="text-gray-800 leading-relaxed tracking-normal text-sm">
            Desarrollo de aplicaciones especializadas para análisis académico y empresarial. Creación de calculadoras estadísticas (V-Aiken, Cronbach), herramientas de construcción (cálculo de muros y tarrajeo), sistemas de e-commerce y aplicaciones de traducción automática de video.
          </p>
          <div class="flex flex-wrap gap-3 mt-4">
            <span class="bg-black text-white px-3 py-1 rounded-md text-xs"
              >Laravel</span
            >
            <span class="bg-black text-white px-3 py-1 rounded-md text-xs"
              >PHP</span
            >
            <span class="bg-black text-white px-3 py-1 rounded-md text-xs"
              >Python</span
            >
            <span class="bg-black text-white px-3 py-1 rounded-md text-xs"
              >React</span
            >
            <span class="bg-black text-white px-3 py-1 rounded-md text-xs"
              >Java</span
            >
          </div>
        </div>
      </div>
    </section>

    <!-- Sección Proyectos -->
    <section
      id="projects"
      class="lg:min-h-screen lg:h-screen flex flex-col lg:justify-center lg:snap-start px-4 lg:px-6 py-8 lg:py-0"
    >
      <!-- Título de sección (solo móvil) -->
      <div class="sticky top-0 bg-white z-10 py-4 mb-4 lg:hidden border-b border-gray-200">
        <h2 class="text-xl font-bold tracking-wide text-gray-900">Proyectos</h2>
      </div>
      <div class="space-y-6 w-full">
        <!-- Proyecto 1: Mesa de Partes Virtual -->
        <div
          class="lg:border lg:border-transparent lg:hover:border-gray-400 lg:transition-all lg:duration-300 lg:hover:shadow-lg lg:rounded-lg lg:p-6"
        >
          <div class="flex flex-col sm:flex-row gap-6">
            <!-- Imagen preview -->
            <div class="w-full sm:flex-shrink-0 sm:w-24 sm:h-24 lg:w-32 lg:h-32">
              <img
                src={astroWebImg.src}
                alt="Mesa de Partes Virtual Preview"
                class="w-full h-48 sm:w-full sm:h-full object-cover rounded-lg border border-gray-200"
              />
            </div>

            <!-- Contenido del proyecto -->
            <div class="flex-1 min-w-0">
              <!-- Header: Título y acciones en la misma línea -->
              <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center mb-3 gap-2">
                <h4
                  class="text-lg lg:text-xl font-semibold tracking-wide text-gray-900"
                >
                  Mesa de Partes Virtual
                </h4>
                <div class="flex gap-3 items-center flex-shrink-0">
                  <span
                    class="bg-gray-200 text-black px-2 py-1 rounded-md text-xs font-medium"
                  >
                    En desarrollo
                  </span>
                  <a
                    href="https://github.com/YanlDev/mpvirtual"
                    target="_blank"
                    class="text-gray-600 hover:text-gray-900 transition-colors"
                    aria-label="Ver código en GitHub"
                  >
                    <i class="fa-brands fa-github text-lg"></i>
                  </a>
                </div>
              </div>

              <!-- Descripción -->
              <p class="text-gray-600 text-sm leading-relaxed mb-4">
                Sistema de gestión documental virtual diseñado para instituciones públicas y privadas. Permite el registro, seguimiento y procesamiento de documentos de manera digital, optimizando los procesos administrativos y reduciendo tiempos de respuesta.
              </p>

              <!-- Stack tecnológico -->
              <div class="flex flex-wrap gap-2">
                <span
                  class="bg-black text-white px-3 py-1 rounded-md text-xs font-medium"
                  >Laravel</span
                >
                <span
                  class="bg-black text-white px-3 py-1 rounded-md text-xs font-medium"
                  >PHP</span
                >
                <span
                  class="bg-black text-white px-3 py-1 rounded-md text-xs font-medium"
                  >Livewire</span
                >
                <span
                  class="bg-black text-white px-3 py-1 rounded-md text-xs font-medium"
                  >MySQL</span
                >
              </div>
            </div>
          </div>
        </div>

        <!-- Proyecto 2: YanlEcommerce -->
        <div
          class="lg:border lg:border-transparent lg:hover:border-gray-400 lg:transition-all lg:duration-300 lg:hover:shadow-lg lg:rounded-lg lg:p-6"
        >
          <div class="flex flex-col sm:flex-row gap-6">
            <!-- Imagen preview -->
            <div class="w-full sm:flex-shrink-0 sm:w-24 sm:h-24 lg:w-32 lg:h-32">
              <img
                src={astroWebImg.src}
                alt="YanlEcommerce Preview"
                class="w-full h-48 sm:w-full sm:h-full object-cover rounded-lg border border-gray-200"
              />
            </div>

            <!-- Contenido del proyecto -->
            <div class="flex-1 min-w-0">
              <!-- Header: Título y acciones -->
              <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center mb-3 gap-2">
                <h4
                  class="text-lg lg:text-xl font-semibold tracking-wide text-gray-900"
                >
                  E-commerce 
                </h4>
                <div class="flex gap-3 items-center flex-shrink-0">
                  <a
                    href="https://github.com/YanlDev/yanlecommerce"
                    target="_blank"
                    class="text-gray-600 hover:text-gray-900 transition-colors"
                    aria-label="Ver código en GitHub"
                  >
                    <i class="fa-brands fa-github text-lg"></i>
                  </a>
                </div>
              </div>

              <!-- Descripción -->
              <p class="text-gray-600 text-sm leading-relaxed mb-4">
                Plataforma de comercio electrónico completa desarrollada en Laravel. Incluye gestión de productos, carrito de compras, sistema de autenticación de usuarios, panel administrativo y procesamiento de órdenes. Diseño responsivo optimizado para diferentes dispositivos.
              </p>

              <!-- Stack tecnológico -->
              <div class="flex flex-wrap gap-2">
                <span
                  class="bg-black text-white px-3 py-1 rounded-md text-xs font-medium"
                  >Laravel</span
                >
                <span
                  class="bg-black text-white px-3 py-1 rounded-md text-xs font-medium"
                  >PHP</span
                >
                <span
                  class="bg-black text-white px-3 py-1 rounded-md text-xs font-medium"
                  >Livewire</span
                >
                <span
                  class="bg-black text-white px-3 py-1 rounded-md text-xs font-medium"
                  >MySQL</span
                >
              </div>
            </div>
          </div>
        </div>

        <!-- Proyecto 3: Delta Astro -->
        <div
          class="lg:border lg:border-transparent lg:hover:border-gray-400 lg:transition-all lg:duration-300 lg:hover:shadow-lg lg:rounded-lg lg:p-6"
        >
          <div class="flex flex-col sm:flex-row gap-6">
            <!-- Imagen preview -->
            <div class="w-full sm:flex-shrink-0 sm:w-24 sm:h-24 lg:w-32 lg:h-32">
              <img
                src={astroWebImg.src}
                alt="Delta Astro Preview"
                class="w-full h-48 sm:w-full sm:h-full object-cover rounded-lg border border-gray-200"
              />
            </div>

            <!-- Contenido del proyecto -->
            <div class="flex-1 min-w-0">
              <!-- Header: Título y acciones -->
              <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center mb-3 gap-2">
                <h4
                  class="text-lg lg:text-xl font-semibold tracking-wide text-gray-900"
                >
                  Delta Consultores
                </h4>
                <div class="flex gap-3 items-center flex-shrink-0">
                  <a
                    href="https://deltatesis.com/turnitin/"
                    target="_blank"
                    class="text-gray-600 hover:text-gray-900 transition-colors"
                    aria-label="Ver demo del proyecto"
                  >
                    <i class="fa-solid fa-external-link text-sm"></i>
                  </a>
                  <a
                    href="https://github.com/YanlDev/delta-astro"
                    target="_blank"
                    class="text-gray-600 hover:text-gray-900 transition-colors"
                    aria-label="Ver código en GitHub"
                  >
                    <i class="fa-brands fa-github text-lg"></i>
                  </a>
                </div>
              </div>

              <!-- Descripción -->
              <p class="text-gray-600 text-sm leading-relaxed mb-4">
                Sitio web corporativo moderno construido con Astro, enfocado en alto rendimiento y SEO optimizado. Diseño responsivo con animaciones suaves y carga ultrarrápida, ideal para presentar servicios profesionales de consultoría.
              </p>

              <!-- Stack tecnológico -->
              <div class="flex flex-wrap gap-2">
                <span
                  class="bg-black text-white px-3 py-1 rounded-md text-xs font-medium"
                  >Astro</span
                >
                <span
                  class="bg-black text-white px-3 py-1 rounded-md text-xs font-medium"
                  >JavaScript</span
                >
                <span
                  class="bg-black text-white px-3 py-1 rounded-md text-xs font-medium"
                  >CSS</span
                >
                <span
                  class="bg-black text-white px-3 py-1 rounded-md text-xs font-medium"
                  >Tailwind</span
                >
              </div>
            </div>
          </div>
        </div>

        <!-- Enlace a todos los proyectos -->
        <div class="text-center pt-4">
          <a
            href="/projects"
            class="inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors text-sm lg:text-base group font-medium"
          >
            Ver todos los proyectos
            <i
              class="fa-solid fa-arrow-right text-xs group-hover:translate-x-1 transition-transform"
            ></i>
          </a>
        </div>
      </div>
    </section>
  </section>
</main>

<!-- Modal para mostrar email -->
<div id="email-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
  <div class="bg-white rounded-lg p-6 max-w-sm w-full mx-4 shadow-xl">
    <div class="flex justify-between items-center mb-4">
      <h3 class="text-lg font-semibold">Contacto</h3>
      <button id="close-modal" class="text-gray-500 hover:text-gray-700">
        <i class="fa-solid fa-times"></i>
      </button>
    </div>
    <div class="flex items-center justify-between bg-gray-50 p-3 rounded-lg">
      <span class="text-gray-700 font-mono text-sm">mycarreon123@gmail.com</span>
      <button 
        id="copy-email" 
        class="text-gray-600 hover:text-gray-900 transition-colors ml-2"
        title="Copiar email"
      >
        <i class="fa-solid fa-copy"></i>
      </button>
    </div>
    <div id="copy-feedback" class="text-sm text-green-600 mt-2 hidden">
      ¡Email copiado al portapapeles!
    </div>
  </div>
</div>
<style>
  /* Estilo para navegación activa */
  .nav-link {
    position: relative;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    text-decoration: none;
    display: inline-block;
  }

  .nav-link.active {
    font-weight: 600;
    color: #000;
    transform: translateX(4px);
  }

  .nav-link.active::after {
    content: "";
    position: absolute;
    bottom: -4px;
    left: 0;
    width: 100%;
    height: 2px;
    background-color: #000;
    transform: scaleX(1);
    transition: transform 0.3s ease;
  }

  .nav-link::after {
    content: "";
    position: absolute;
    bottom: -4px;
    left: 0;
    width: 100%;
    height: 2px;
    background-color: #000;
    transform: scaleX(0);
    transition: transform 0.3s ease;
  }

  /* Scroll snap */
  .snap-y {
    scroll-snap-type: y mandatory;
  }

  .snap-start {
    scroll-snap-align: start;
  }

  /* Scroll suave */
  html {
    scroll-behavior: smooth;
  }

  /* Mejoras de performance */
  * {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Optimización para móvil */
  @media (max-width: 1024px) {
    #main-content {
      scroll-snap-type: none;
      overflow-y: visible;
      height: auto;
    }

    .snap-start {
      scroll-snap-align: none;
    }
  }

  /* Ocultar scrollbar personalizada */
  #main-content {
    scrollbar-width: none;
    -ms-overflow-style: none;
  }

  #main-content::-webkit-scrollbar {
    display: none;
  }
</style>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const sections = document.querySelectorAll("section[id], div[id]");
    const navLinks = document.querySelectorAll(".nav-link");
    const scrollContainer = document.getElementById("main-content");

    // Solo ejecutar en desktop (cuando el nav está visible)
    if (window.innerWidth >= 1024) {
      // Marcar la primera sección como activa al cargar
      if (navLinks.length > 0) {
        navLinks[0].classList.add("active");
      }

      // Observer simple para navegación en desktop
      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting && entry.intersectionRatio > 0.5) {
              // Remover active de todos los links
              navLinks.forEach((link) => link.classList.remove("active"));

              // Agregar active al link correspondiente
              const activeLink = document.querySelector(
                `[data-section="${entry.target.id}"]`
              );
              if (activeLink) {
                activeLink.classList.add("active");
              }
            }
          });
        },
        {
          root: scrollContainer,
          threshold: [0.5],
          rootMargin: "-20% 0px -20% 0px",
        }
      );

      // Observar todas las secciones
      sections.forEach((section) => observer.observe(section));

      // Scroll suave al hacer click en navegación
      navLinks.forEach((link) => {
        link.addEventListener("click", (e) => {
          e.preventDefault();
          const targetId = link.getAttribute("data-section");
          const targetSection = document.getElementById(targetId);

          if (targetSection) {
            // Marcar inmediatamente como activo para mejor UX
            navLinks.forEach((l) => l.classList.remove("active"));
            link.classList.add("active");

            targetSection.scrollIntoView({
              behavior: "smooth",
              block: "start",
            });
          }
        });
      });
    }

    // Funcionalidad del modal de email
    const emailButton = document.getElementById("email-button");
    const emailModal = document.getElementById("email-modal");
    const closeModal = document.getElementById("close-modal");
    const copyEmail = document.getElementById("copy-email");
    const copyFeedback = document.getElementById("copy-feedback");

    // Abrir modal
    emailButton.addEventListener("click", () => {
      emailModal.classList.remove("hidden");
    });

    // Cerrar modal
    closeModal.addEventListener("click", () => {
      emailModal.classList.add("hidden");
    });

    // Cerrar modal al hacer click fuera
    emailModal.addEventListener("click", (e) => {
      if (e.target === emailModal) {
        emailModal.classList.add("hidden");
      }
    });

    // Copiar email
    copyEmail.addEventListener("click", async () => {
      try {
        await navigator.clipboard.writeText("mycarreon123@gmail.com");
        copyFeedback.classList.remove("hidden");
        setTimeout(() => {
          copyFeedback.classList.add("hidden");
        }, 2000);
      } catch (err) {
        console.error("Error al copiar email:", err);
      }
    });

    // Cerrar modal with Escape key
    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape" && !emailModal.classList.contains("hidden")) {
        emailModal.classList.add("hidden");
      }
    });
  });
</script>
